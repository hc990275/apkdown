# apkdown - 影视APP推荐组自动更新工具

自动从 Fongmi 推荐源下载最新版本的影视 APP（APK），支持版本追踪与增量更新。

## 功能特性

- **推荐源解析**：自动解析 JSON 配置，仅下载「推薦」分组中的应用
- **版本追踪**：本地记录已下载版本，仅下载有更新的应用
- **作者区分**：严格区分不同作者/构建版本（如 OK 版、FM 版）
- **加速下载**：GitHub 资源自动添加加速前缀
- **旧版清理**：下载新版本时自动删除同应用旧版本 APK
- **安全中断**：`Ctrl+C` 中断时自动清理临时文件

## 依赖

- `curl` - 网络下载
- `sed` - 文本处理
- `cut` - 字段提取

## 使用方法

```sh
sh apkdown.sh
```

脚本会自动执行以下流程：

1. 下载最新 JSON 配置文件
2. 解析「推薦」分组中的所有应用
3. 与本地版本记录对比，识别需要更新的应用
4. 下载更新并保存到 `APP库/` 目录

## 目录结构

```
apkdown/
├── apkdown.sh        # 主脚本
├── APP库/            # 下载的 APK 文件存放目录
└── 版本库/           # 版本记录文件存放目录
```

## APK 文件命名规则

```
[作者]应用名_版本号.apk
```

例如：`[OK]手机-32_3.6.0.apk`

## 配置

脚本顶部的配置区可自定义：

| 变量 | 说明 | 默认值 |
|------|------|--------|
| `ACCEL_PREFIX` | GitHub 加速前缀 | `https://js.2017.de5.net/` |
| `URL_JSON` | 推荐源 JSON 地址 | Fongmi 推荐源 |
